<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quota</title>
    <style>
        body {
            margin: 0;
            font-family: 'Georgia', serif;
            background: url('/quota.github.io/image.png') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .navbar {
            display: flex;
            justify-content: center;
            background: linear-gradient(135deg, #333, #000);
            padding: 10px;
            width: 100%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid #ffcc66;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        .navbar a {
            color: #ffffff;
            padding: 12px 16px;
            text-decoration: none;
            text-align: center;
            font-size: 16px;
            transition: background 0.3s, transform 0.3s;
            margin: 0 5px;
            border-radius: 5px;
        }

        .navbar a:nth-child(1) {
            background-color: #ff9966;
        }

        .navbar a:nth-child(2) {
            background-color: #ffcc66;
        }

        .navbar a:hover {
            transform: scale(1.1);
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        }

        .content {
            display: none;
            padding: 15px;
            text-align: center;
            width: 100%;
            max-width: 300px;
            margin-top: 60px;
            margin-left: auto;
            margin-right: auto;
        }

        .content.active {
            display: block;
        }

        .container,
        .daily-quotes-container {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            background: rgba(255, 204, 128, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: fadeIn 2s ease-in-out;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }

        h1 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #333;
            font-family: 'Arial', sans-serif;
        }

        button {
            background: #ffcc66;
            color: #333;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.6s ease, transform 0.6s ease;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
        }

        button:hover {
            background: #ff9966;
            transform: scale(1.1);
        }

        #quoteText {
            margin-top: 1rem;
            font-size: 1.25rem;
            opacity: 0;
            transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
            line-height: 1.4;
            color: #333;
            font-family: 'Times New Roman', serif;
        }

        .quote-post {
            margin-bottom: 10px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            text-align: left;
        }

        #voiceAssistantButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ffcc66;
            border: none;
            border-radius: 50%;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }

        #voiceAssistantButton img {
            width: 24px;
            height: 24px;
        }

        #voiceAssistantButton:hover {
            background-color: #ff9966;
            transform: scale(1.1);
        }

        #stopTalkingButton {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: #ff6666;
            border: none;
            border-radius: 50%;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }

        #stopTalkingButton img {
            width: 24px;
            height: 24px;
        }

        #stopTalkingButton:hover {
            background-color: #ff3333;
            transform: scale(1.1);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @media (min-width: 768px) {
            .navbar a {
                padding: 14px 20px;
                font-size: 18px;
                margin: 0 10px;
            }

            .content {
                padding: 20px;
                max-width: 500px;
                margin-top: 80px;
            }

            .container,
            .daily-quotes-container {
                max-width: 500px;
                padding: 20px;
            }

            h1 {
                font-size: 2.5rem;
            }

            button {
                font-size: 1.5rem;
                padding: 0.75rem 1.5rem;
            }

            #quoteText {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="navbar">
        <a href="#" id="homeButton">Quota</a>
        <a href="#" id="dailyQuotesButton">ΚΑΘΗΜΕΡΙΝΗ ΦΙΛΟΣΟΦΙΑ</a>
    </div>
    <div class="content home-content active">
        <div class="container">
            <h1>Παν ουλα λάθος</h1>
            <button id="showQuoteButton">Σήκου Πάνω ΡΕΕΕΕΕ</button>
            <p id="quoteText"></p>
            <audio id="audioPlayer" src="/quota.github.io/STAND_UP.mp3" preload="auto"></audio>
        </div>
    </div>
    <div class="content daily-quotes-content">
        <div class="daily-quotes-container"></div>
    </div>
    <button id="voiceAssistantButton">
        <img src="https://img.icons8.com/ios-filled/50/000000/microphone.png" alt="Voice Assistant">
    </button>
    <button id="stopTalkingButton">
        <img src="https://img.icons8.com/ios-filled/50/000000/stop.png" alt="Stop Talking">
    </button>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            const quotes = [
                "Η δύναμη στην ζωή δεν έρχεται από τι μπορείς να κάνεις τώρα αλλά έρχεται από να κάνεις τα πράγραμα που πίστευες ότι δεν θα μπορούσες",
                "Αυτός που δεν είναι ευχαριστημένος με αυτό που έχει δεν θα είναι ευχαριστημένος με αυτό που θα ήθελε να έχει — Σωκράτης",
                "Η ζωή είναι μια βόλτα απόλαυσε την γιατί δεν υπάρχει εισιτήριο επιστροφής",
                "Πρέπει καθημερινά Να μην είσαι σκλάβος του εαυτού σου πρέπει να ξεπερνάς τα όρια σου",
                "Όλα ξεκινούν και τελειώνουν στο μυαλό σου. Σε ότι δίνεις δύναμη αυτό σε εξουσιάζει.",
                "Τα όρια του καθενός είναι αυτά που ο ίδιος βάζει στον εαυτό του",
                "Δεν χρειάζεται να λες τι ξέρεις. Είναι όμως απαραίτητο να ξέρεις τι λες",
                "Το μεγαλύτερο λάθος που μπορείς να κάνεις στην ζωή σου είναι να ζεις με τον φόβο μήπως κάνεις λάθος",
                "Κλείσε το παράθυρο που σε ενοχλεί όσο όμορφη και αν είναι η θέα που βλέπεις.",
                "Ο κόσμος δεν έγινε χειρότερος, αλλά έμεις βελτιωθήκαμε λιγότερο από όσο νομίζαμε."
            ];

            let speechSynthesisInstance;

            function showRandomQuote() {
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                $('#quoteText').text(randomQuote).css('opacity', '1').css('transform', 'translateY(0)');
            }

            function speakText(text, callback) {
                if (speechSynthesisInstance) {
                    speechSynthesisInstance.cancel(); // Stop any ongoing speech
                }
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'el-GR'; // Greek language

                utterance.onend = function () {
                    $('#stopTalkingButton').hide(); // Hide stop button when done
                    if (callback) {
                        callback(); // Re-initiate listening after speech ends
                    }
                };

                $('#stopTalkingButton').show(); // Show stop button when speaking
                speechSynthesisInstance = window.speechSynthesis;
                speechSynthesisInstance.speak(utterance);
            }

            function startRecognition() {
                const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.lang = 'el-GR';

                recognition.onresult = function (event) {
                    const transcript = event.results[0][0].transcript.toLowerCase();

                    if (transcript.includes('απόφθεγμα') || transcript.includes('φιλοσοφία')) {
                        speakText("Δυστυχώς δεν μπορώ να κάνω αυτό. Παρακαλώ δώστε άλλη εντολή.");
                    } else if (transcript.includes('σήκω πάνω') || transcript.includes('παίξε μουσική')) {
                        $('#showQuoteButton').click();
                    } else if (transcript.includes('εξήγησε')) {
                        const randomQuote = $('#quoteText').text();
                        const explanation = `Αυτό το απόφθεγμα σημαίνει ότι ${randomQuote}. Είναι μια υπενθύμιση για να σκεφτούμε τα βαθύτερα νοήματα πίσω από τις λέξεις.`;
                        $('.home-content').append(`<div class="quote-explanation">${explanation}</div>`);
                        speakText(explanation);
                    } else {
                        const errorText = 'Δυστυχώς δεν αναγνωρίζω αυτή την εντολή. Δοκίμασε ξανά.';
                        alert(errorText);
                        speakText(errorText);
                    }
                };

                recognition.onerror = function () {
                    const errorText = 'Υπήρξε κάποιο σφάλμα. Δοκίμασε ξανά.';
                    alert(errorText);
                    speakText(errorText);
                };

                recognition.start();
            }

            $('#homeButton').click(function () {
                $('.content').removeClass('active');
                $('.home-content').addClass('active');
                showRandomQuote();
            });

            $('#dailyQuotesButton').click(function () {
                $('.content').removeClass('active');
                $('.daily-quotes-content').addClass('active');
                const dailyQuote = getDailyQuote();
                $('.daily-quotes-container').html(`<div class="quote-post">${dailyQuote}</div>`);
                speakText(dailyQuote);
            });

            $('#showQuoteButton').click(function () {
                showRandomQuote();
                $('#audioPlayer')[0].play();
            });

            $('#voiceAssistantButton').click(function () {
                const introduction = "Γειά σου, είμαι ο φωνητικός σου βοηθός. Μπορώ να σου διαβάσω ένα απόφθεγμα, να σου το εξηγήσω, ή να σου δώσω κάποια ενθάρρυνση. Πες μου τι θέλεις να κάνω.";
                speakText(introduction, startRecognition);
            });

            $('#stopTalkingButton').click(function () {
                if (speechSynthesisInstance) {
                    speechSynthesisInstance.cancel(); // Stop any ongoing speech
                }
                $(this).hide(); // Hide the button after stopping
            });
        });
    </script>
</body>
</html>
